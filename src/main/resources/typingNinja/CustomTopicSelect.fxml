<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.fxml.*?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="typingNinja.controllers.CustomTopicSelectController"
           alignment="CENTER">
    <VBox spacing="18" maxWidth="920"
          style="-fx-background-color:#D9D9D9; -fx-border-color:#2EFF04; -fx-border-width:3;
                 -fx-background-radius:20; -fx-border-radius:20;">
        <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>

        <fx:define>
            <ToggleGroup fx:id="sourceGroup"/>
            <ToggleGroup fx:id="durationGroup"/>
        </fx:define>

        <HBox alignment="CENTER_RIGHT" spacing="12">
            <Label text="Custom Topic - AI Gen"
                   style="-fx-font-family:'Jaro'; -fx-font-size:40; -fx-text-fill:black;"
                   HBox.hgrow="ALWAYS" maxWidth="Infinity"/>
            <Button text="Back" onAction="#onBack"
                    style="-fx-font-family:'Jaro'; -fx-font-size:28;
                           -fx-background-color:#2EFF04; -fx-text-fill:black;
                           -fx-background-radius:12; -fx-padding:6 18 6 18;"/>
        </HBox>

        <Label text="What would you like to type about?"
               style="-fx-font-family:'Jaro'; -fx-font-size:28; -fx-text-fill:black;"/>

        <HBox spacing="12" alignment="CENTER_LEFT">
            <ToggleButton fx:id="btnWeakKeys"
                          toggleGroup="$sourceGroup"
                          onAction="#onSourceChanged"
                          text="Practice my weakest key combinations"
                          style="-fx-font-family:'Jaro'; -fx-font-size:24;
                                 -fx-background-radius:12; -fx-padding:8 14 8 14;"/>
            <ToggleButton fx:id="btnCustom"
                          toggleGroup="$sourceGroup"
                          onAction="#onSourceChanged"
                          text="Custom topic (specify below)"
                          style="-fx-font-family:'Jaro'; -fx-font-size:24;
                                 -fx-background-radius:12; -fx-padding:8 14 8 14;"/>
        </HBox>

        <TextField fx:id="promptField"
                   promptText="Enter a topic (max 50 chars)"
                   style="-fx-font-family:'Inter'; -fx-font-size:22;"/>

        <Label text="For what duration?"
               style="-fx-font-family:'Jaro'; -fx-font-size:26; -fx-text-fill:black;"/>
        <HBox spacing="18" alignment="CENTER_LEFT">
            <ToggleButton text="1 minute"  fx:id="dur1"  toggleGroup="$durationGroup" onAction="#onDurationChanged"
                          style="-fx-font-family:'Jaro'; -fx-font-size:22; -fx-background-radius:12; -fx-padding:8 12 8 12;"/>
            <ToggleButton text="3 minutes" fx:id="dur3"  toggleGroup="$durationGroup" onAction="#onDurationChanged"
                          style="-fx-font-family:'Jaro'; -fx-font-size:22; -fx-background-radius:12; -fx-padding:8 12 8 12;"/>
            <ToggleButton text="5 minutes" fx:id="dur5"  toggleGroup="$durationGroup" onAction="#onDurationChanged"
                          style="-fx-font-family:'Jaro'; -fx-font-size:22; -fx-background-radius:12; -fx-padding:8 12 8 12;"/>
            <ToggleButton text="10 minutes" fx:id="dur10" toggleGroup="$durationGroup" onAction="#onDurationChanged"
                          style="-fx-font-family:'Jaro'; -fx-font-size:22; -fx-background-radius:12; -fx-padding:8 12 8 12;"/>
        </HBox>

        <Label text="Custom difficulty:"
               style="-fx-font-family:'Jaro'; -fx-font-size:26; -fx-text-fill:black;"/>

        <GridPane hgap="24" vgap="10">
            <columnConstraints>
                <ColumnConstraints percentWidth="50"/>
                <ColumnConstraints percentWidth="50"/>
            </columnConstraints>

            <CheckBox fx:id="chkUpper" text="Upper Case Letters"
                      style="-fx-font-family:'Jaro'; -fx-font-size:22;"/>
            <CheckBox fx:id="chkNums"  text="Numbers"
                      GridPane.columnIndex="1"
                      style="-fx-font-family:'Jaro'; -fx-font-size:22;"/>

            <CheckBox fx:id="chkPunct" text="Common punctuation ( , . ; : ' “ ” ! ? )"
                      GridPane.rowIndex="1"
                      style="-fx-font-family:'Jaro'; -fx-font-size:22;"/>
            <!-- ESCAPED & AS &amp; BELOW -->
            <CheckBox fx:id="chkSpecial" text="All special characters ( @ # $ % ^ &amp; * \ / { } )"
                      GridPane.rowIndex="1" GridPane.columnIndex="1"
                      style="-fx-font-family:'Jaro'; -fx-font-size:22;"/>
        </GridPane>

        <Button text="Generate and begin lesson" onAction="#onGenerate"
                style="-fx-font-family:'Jaro'; -fx-font-size:26;
                       -fx-background-color:#2EFF04; -fx-text-fill:black;
                       -fx-background-radius:14; -fx-padding:10 18 10 18;"/>
    </VBox>
</StackPane>
