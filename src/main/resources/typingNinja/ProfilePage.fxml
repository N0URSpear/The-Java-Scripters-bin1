<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="typingNinja.controllers.ProfilePageController"
            stylesheets="@ProfileStyles.css"
            style="-fx-background-color: #0A002C;">

    <!-- 顶部 Header -->
    <top>
        <HBox spacing="20" alignment="CENTER" BorderPane.alignment="CENTER">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

            <Label text="PROFILE" styleClass="title-label"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <ImageView fx:id="avatarImage" fitWidth="50" fitHeight="50"/>
                <Label fx:id="usernameLabel" styleClass="username-label"/>
                <Button fx:id="editUserBtn" styleClass="icon-button">
                    <graphic>
                        <ImageView fitWidth="20" fitHeight="20" preserveRatio="true">
                            <image><Image url="@/images/pencil-write-tool-icon.png"/></image>
                        </ImageView>
                    </graphic>
                </Button>
            </HBox>
        </HBox>
    </top>

    <!-- 中间主要内容：左右顶端对齐 -->
    <center>
        <HBox alignment="TOP_CENTER" spacing="60">
            <padding><Insets top="30" right="30" bottom="30" left="30"/></padding>

            <!-- 左半区：描述 | GOALS | Actual -->
            <VBox spacing="20" alignment="TOP_LEFT">
                <GridPane hgap="30" vgap="18">
                    <columnConstraints>
                        <!-- 左列：指标描述（固定宽度） -->
                        <ColumnConstraints minWidth="250" halignment="LEFT"/>
                        <!-- 中列：Goals（右对齐，确保数字齐平） -->
                        <ColumnConstraints minWidth="150" halignment="RIGHT"/>
                        <!-- 右列：Actual（左对齐） -->
                        <ColumnConstraints minWidth="150" halignment="LEFT"/>
                    </columnConstraints>

                    <!-- 表头 -->
                    <Label text="GOALS"  styleClass="section-title"
                           GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    <Label text="Actual" styleClass="section-title"
                           GridPane.rowIndex="0" GridPane.columnIndex="2"/>

                    <!-- Row 1 -->
                    <Label text="Practice hours per week" styleClass="metric-label"
                           GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <HBox spacing="6" GridPane.rowIndex="1" GridPane.columnIndex="1" alignment="CENTER_RIGHT">
                        <Button fx:id="editHoursBtn" styleClass="icon-button">
                            <graphic>
                                <ImageView fitWidth="18" fitHeight="18" preserveRatio="true">
                                    <image><Image url="@/images/pencil-write-tool-icon.png"/></image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Label fx:id="hoursGoalLabel" styleClass="goal-value"
                               alignment="CENTER_RIGHT" style="-fx-alignment: CENTER_RIGHT;"/>
                    </HBox>
                    <Label fx:id="hoursActualLabel" styleClass="actual-value"
                           GridPane.rowIndex="1" GridPane.columnIndex="2"/>

                    <!-- Row 2 -->
                    <Label text="Target speed" styleClass="metric-label"
                           GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                    <HBox spacing="6" GridPane.rowIndex="2" GridPane.columnIndex="1" alignment="CENTER_RIGHT">
                        <Button fx:id="editWpmBtn" styleClass="icon-button">
                            <graphic>
                                <ImageView fitWidth="18" fitHeight="18" preserveRatio="true">
                                    <image><Image url="@/images/pencil-write-tool-icon.png"/></image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Label fx:id="wpmGoalLabel" styleClass="goal-value"
                               alignment="CENTER_RIGHT" style="-fx-alignment: CENTER_RIGHT;"/>
                    </HBox>
                    <Label fx:id="wpmActualLabel" styleClass="actual-value"
                           GridPane.rowIndex="2" GridPane.columnIndex="2"/>

                    <!-- Row 3 -->
                    <Label text="Target accuracy" styleClass="metric-label"
                           GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                    <HBox spacing="6" GridPane.rowIndex="3" GridPane.columnIndex="1" alignment="CENTER_RIGHT">
                        <Button fx:id="editAccBtn" styleClass="icon-button">
                            <graphic>
                                <ImageView fitWidth="18" fitHeight="18" preserveRatio="true">
                                    <image><Image url="@/images/pencil-write-tool-icon.png"/></image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Label fx:id="accGoalLabel" styleClass="goal-value"
                               alignment="CENTER_RIGHT" style="-fx-alignment: CENTER_RIGHT;"/>
                    </HBox>
                    <Label fx:id="accActualLabel" styleClass="actual-value"
                           GridPane.rowIndex="3" GridPane.columnIndex="2"/>
                </GridPane>


                <!-- 功能按钮 -->
                <Button fx:id="lessonHistoryBtn" text="LESSON HISTORY" styleClass="action-button"/>
                <Button fx:id="certBtn"        text="VIEW CERTIFICATES" styleClass="action-button"/>
                <Label text="Total Ninja Stars Earned:" styleClass="caption"/>
                <Label fx:id="starsValueLabel" styleClass="stars-label"/>
            </VBox>

            <!-- 右半区 -->
            <VBox spacing="20" alignment="TOP_LEFT">
                <ImageView fx:id="beltImage" fitWidth="120" fitHeight="120"/>
                <Label fx:id="beltLabel"    styleClass="belt-label"/>
                <Label fx:id="lessonsLabel" styleClass="info-label"/>
                <Label fx:id="avgWpmLabel"  styleClass="info-label"/>
                <Label text="Highest Rating:" styleClass="caption"/>
                <HBox fx:id="highestRatingBox" spacing="8"/>
                <Label text="Average Rating:" styleClass="caption"/>
                <HBox fx:id="avgRatingBox" spacing="8"/>
            </VBox>
        </HBox>
    </center>

    <!-- 底部导航 -->
    <bottom>
        <HBox alignment="CENTER" spacing="15" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="20" bottom="120"/>
            </padding>

            <Label fx:id="mainMenuLabel" text="MAIN MENU"
                   style="-fx-text-fill: white; -fx-font-size: 40; -fx-cursor: hand; -fx-font-weight: bold;"/>
            <Label text="|" style="-fx-text-fill: white; -fx-font-size: 40;"/>
            <Label fx:id="profileLabel" text="PROFILE"
                   style="-fx-text-fill: #39ff14; -fx-font-size: 40; -fx-cursor: hand; -fx-font-weight: bold;"/>
            <Label text="|" style="-fx-text-fill: white; -fx-font-size: 40;"/>
            <Label fx:id="settingsLabel" text="SETTINGS"
                   style="-fx-text-fill: white; -fx-font-size: 40; -fx-cursor: hand; -fx-font-weight: bold;"/>
        </HBox>
    </bottom>
</BorderPane>
